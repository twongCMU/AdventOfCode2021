# Day 22

Part 1 was pretty straightforward given the small size of the matrix. As is typical for Advent of Code we can assume that Part 2 will raize the boundaries so that it can't be done simply by marking off bits in a grid.

Part 2 was very difficult. The obvious first approach is to imagine the cubes then try to remove and add subsequent cubes by carving out sub-cubes in existing cubes. It ends up getting unmanageable quickly, just in trying to compute the overlap between multiple overlapping cubes. I came up with another idea to carve up the space into sub cubes deliniated by every x, y, and z boundary in the input data. That is, if one input data is x=0..10 and another is x=5..20 then we track 0, 5, 10, 20 as boundaries. If we do this for every axis we have sub-cubes of uniform on/off state and we can compute the volume for it. The problem is that the border between the sub-cubes is ambiguous. If I have the boundaries above of 0,5,10,20, are the points at x=5 part of the 0-5 sub cube or the 5-50 sub cube? I spent hours trying to track this info and de-duplicate it without success. Finally I hit on the idea that we can just split the boundary when we create it by drawing a second boundary around the input cube 1 point farther out. So if I have an input cube with x=1..10 we insert 0,1,10,11 into the tracking so that 1-10 is partitioned as one cube and ?-0 and 11-? are other sub-cubes. Finally it worked. The code took 31.5 minutes to run though. It was not efficient but it's done!